起初，使用的是ChatOpenAI，面临的问题是：
1. 无法显示上下文占用
2. 调用工具时，无法触发差异对比页面

后来，尝试使用ChatTongyi
问题并没有因此解决

详细研究后，发现ChatTongyi和ChatOpenAI的消息结构不完全一致

于是有三个方向的解决方案
1. 后端，用BaseModel，自己写一个类似ChatTongyi的类（工程量大，而且较为复杂）
2. 后端，用BaseModel写类，其中使用ChatTongyi作为内部使用的方法，获取每个chunk，改格式后转发出去（简单一些）
3. 前端，兼容新的ChatTongyi AIMessage格式（看起来不是很合理，这种工作应该后端做才对）

选择了2
问题在于：
只要用ChatTongyi作为内部使用的方法，就会发出chunk，
与整个类的chunk合在一起，同样的消息发了两遍（格式不同）
几番修改无果，于是放弃

选择3后，前端稍微改了改langgraph.ts等部分，即可解决问题。