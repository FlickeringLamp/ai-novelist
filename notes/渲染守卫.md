前端的工具请求面板似乎出现了问题，渲染崩溃
后续排查发现问题出在这里：

```ts
  // 没有中断时不显示（必须在所有 hooks 之后）
  if (!interrupt) {
    return null;
  }
```
也就是放在return之前？


Warning: React has detected a change in the order of Hooks called by ToolRequestPanel. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
1. useContext                 useContext
2. useContext                 useContext
3. useContext                 useContext
4. useContext                 useContext
5. useRef                     useRef
6. useCallback                useCallback
7. useRef                     useRef
8. useMemo                    useMemo
9. useSyncExternalStore       useSyncExternalStore
10. useEffect                 useEffect
11. useDebugValue             useDebugValue
12. useDebugValue             useDebugValue
13. useContext                useContext
14. useRef                    useRef
15. useCallback               useCallback
16. useRef                    useRef
17. useMemo                   useMemo
18. useSyncExternalStore      useSyncExternalStore
19. useEffect                 useEffect
20. useDebugValue             useDebugValue
21. useDebugValue             useDebugValue
22. useContext                useContext
23. useRef                    useRef
24. useCallback               useCallback
25. useRef                    useRef
26. useMemo                   useMemo
27. useSyncExternalStore      useSyncExternalStore
28. useEffect                 useEffect
29. useDebugValue             useDebugValue
30. useDebugValue             useDebugValue
31. useRef                    useRef
32. undefined                 useEffect
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    at ToolRequestPanel (http://localhost:3000/src/components/chat/ToolRequestPanel.tsx:33:20)
    at div
    at MiddlePart (http://localhost:3000/src/components/chat/MiddlePart.tsx:24:28)
    at div
    at ChatPanel (http://localhost:3000/src/components/chat/ChatPanel.tsx:32:20)
    at div
    at PanelWithForwardedRef (http://localhost:3000/node_modules/.vite/deps/react-resizable-panels.js?v=9caefa0d:41:3)
    at forwardRef(Panel)
    at div
    at PanelGroupWithForwardedRef (http://localhost:3000/node_modules/.vite/deps/react-resizable-panels.js?v=9caefa0d:1468:3)
    at forwardRef(PanelGroup)
    at div
    at LayoutComponent (http://localhost:3000/src/components/LayoutComponent.tsx:24:28)
    at div
    at ThemeProvider (http://localhost:3000/src/context/ThemeContext.tsx:43:33)
    at App
    at Provider (http://localhost:3000/node_modules/.vite/deps/react-redux.js?v=9caefa0d:923:11)
printWarning @ react-dom.development.js:86
error @ react-dom.development.js:60
warnOnHookMismatchInDev @ react-dom.development.js:15401
updateHookTypesDev @ react-dom.development.js:15360
useEffect @ react-dom.development.js:17042
useEffect @ react.development.js:1634
ToolRequestPanel @ ToolRequestPanel.tsx:198
renderWithHooks @ react-dom.development.js:15486
updateFunctionComponent @ react-dom.development.js:19617
beginWork @ react-dom.development.js:21640
beginWork$1 @ react-dom.development.js:27465
performUnitOfWork @ react-dom.development.js:26596
workLoopSync @ react-dom.development.js:26505
renderRootSync @ react-dom.development.js:26473
performSyncWorkOnRoot @ react-dom.development.js:26124
flushSyncCallbacks @ react-dom.development.js:12042
(匿名) @ react-dom.development.js:25690
react-dom.development.js:15688  Uncaught Error: Rendered more hooks than during the previous render.
    at updateWorkInProgressHook (react-dom.development.js:15688:13)
    at updateEffectImpl (react-dom.development.js:16248:14)
    at updateEffect (react-dom.development.js:16279:10)
    at Object.useEffect (react-dom.development.js:17043:14)
    at useEffect (react.development.js:1634:21)
    at ToolRequestPanel (ToolRequestPanel.tsx:198:3)
    at renderWithHooks (react-dom.development.js:15486:18)
    at updateFunctionComponent (react-dom.development.js:19617:20)
    at beginWork (react-dom.development.js:21640:16)
    at HTMLUnknownElement.callCallback2 (react-dom.development.js:4164:14)
updateWorkInProgressHook @ react-dom.development.js:15688
updateEffectImpl @ react-dom.development.js:16248
updateEffect @ react-dom.development.js:16279
useEffect @ react-dom.development.js:17043
useEffect @ react.development.js:1634
ToolRequestPanel @ ToolRequestPanel.tsx:198
renderWithHooks @ react-dom.development.js:15486
updateFunctionComponent @ react-dom.development.js:19617
beginWork @ react-dom.development.js:21640
callCallback2 @ react-dom.development.js:4164
invokeGuardedCallbackDev @ react-dom.development.js:4213
invokeGuardedCallback @ react-dom.development.js:4277
beginWork$1 @ react-dom.development.js:27490
performUnitOfWork @ react-dom.development.js:26596
workLoopSync @ react-dom.development.js:26505
renderRootSync @ react-dom.development.js:26473
performSyncWorkOnRoot @ react-dom.development.js:26124
flushSyncCallbacks @ react-dom.development.js:12042
(匿名) @ react-dom.development.js:25690
react-dom.development.js:15688  Uncaught Error: Rendered more hooks than during the previous render.
    at updateWorkInProgressHook (react-dom.development.js:15688:13)
    at updateEffectImpl (react-dom.development.js:16248:14)
    at updateEffect (react-dom.development.js:16279:10)
    at Object.useEffect (react-dom.development.js:17043:14)
    at useEffect (react.development.js:1634:21)
    at ToolRequestPanel (ToolRequestPanel.tsx:198:3)
    at renderWithHooks (react-dom.development.js:15486:18)
    at updateFunctionComponent (react-dom.development.js:19617:20)
    at beginWork (react-dom.development.js:21640:16)
    at HTMLUnknownElement.callCallback2 (react-dom.development.js:4164:14)
updateWorkInProgressHook @ react-dom.development.js:15688
updateEffectImpl @ react-dom.development.js:16248
updateEffect @ react-dom.development.js:16279
useEffect @ react-dom.development.js:17043
useEffect @ react.development.js:1634
ToolRequestPanel @ ToolRequestPanel.tsx:198
renderWithHooks @ react-dom.development.js:15486
updateFunctionComponent @ react-dom.development.js:19617
beginWork @ react-dom.development.js:21640
callCallback2 @ react-dom.development.js:4164
invokeGuardedCallbackDev @ react-dom.development.js:4213
invokeGuardedCallback @ react-dom.development.js:4277
beginWork$1 @ react-dom.development.js:27490
performUnitOfWork @ react-dom.development.js:26596
workLoopSync @ react-dom.development.js:26505
renderRootSync @ react-dom.development.js:26473
recoverFromConcurrentError @ react-dom.development.js:25889
performSyncWorkOnRoot @ react-dom.development.js:26135
flushSyncCallbacks @ react-dom.development.js:12042
(匿名) @ react-dom.development.js:25690
react-dom.development.js:18704  The above error occurred in the <ToolRequestPanel> component:

    at ToolRequestPanel (http://localhost:3000/src/components/chat/ToolRequestPanel.tsx:33:20)
    at div
    at MiddlePart (http://localhost:3000/src/components/chat/MiddlePart.tsx:24:28)
    at div
    at ChatPanel (http://localhost:3000/src/components/chat/ChatPanel.tsx:32:20)
    at div
    at PanelWithForwardedRef (http://localhost:3000/node_modules/.vite/deps/react-resizable-panels.js?v=9caefa0d:41:3)
    at forwardRef(Panel)
    at div
    at PanelGroupWithForwardedRef (http://localhost:3000/node_modules/.vite/deps/react-resizable-panels.js?v=9caefa0d:1468:3)
    at forwardRef(PanelGroup)
    at div
    at LayoutComponent (http://localhost:3000/src/components/LayoutComponent.tsx:24:28)
    at div
    at ThemeProvider (http://localhost:3000/src/context/ThemeContext.tsx:43:33)
    at App
    at Provider (http://localhost:3000/node_modules/.vite/deps/react-redux.js?v=9caefa0d:923:11)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
logCapturedError @ react-dom.development.js:18704
update.callback @ react-dom.development.js:18737
callCallback @ react-dom.development.js:15036
commitUpdateQueue @ react-dom.development.js:15057
commitLayoutEffectOnFiber @ react-dom.development.js:23430
commitLayoutMountEffects_complete @ react-dom.development.js:24727
commitLayoutEffects_begin @ react-dom.development.js:24713
commitLayoutEffects @ react-dom.development.js:24651
commitRootImpl @ react-dom.development.js:26862
commitRoot @ react-dom.development.js:26721
performSyncWorkOnRoot @ react-dom.development.js:26156
flushSyncCallbacks @ react-dom.development.js:12042
(匿名) @ react-dom.development.js:25690
react-dom.development.js:15688  Uncaught Error: Rendered more hooks than during the previous render.
    at updateWorkInProgressHook (react-dom.development.js:15688:13)
    at updateEffectImpl (react-dom.development.js:16248:14)
    at updateEffect (react-dom.development.js:16279:10)
    at Object.useEffect (react-dom.development.js:17043:14)
    at useEffect (react.development.js:1634:21)
    at ToolRequestPanel (ToolRequestPanel.tsx:198:3)
    at renderWithHooks (react-dom.development.js:15486:18)
    at updateFunctionComponent (react-dom.development.js:19617:20)
    at beginWork (react-dom.development.js:21640:16)
    at beginWork$1 (react-dom.development.js:27465:14)

@/frontend/src/components/chat/ToolRequestPanel.tsx